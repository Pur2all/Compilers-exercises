<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<Program>
    <ProcOp>
        (ID, printPeg)
        <ParamDeclListOp>
            <ParDeclOp>
                INT
                <IdListOp>(ID, peg)</IdListOp>
            </ParDeclOp>
        </ParamDeclListOp>
        <ResultTypeListOp>VOID</ResultTypeListOp>
        <VarDeclListOp/>
        <StatListOp>
            <ifOp>
                <EqOp>(ID, peg), 1</EqOp>
                <ifBody>
                    <WriteOp>left</WriteOp>
                </ifBody>
                <ElifOp>
                    <EqOp>(ID, peg), 2</EqOp>
                    <ElifBody>
                        <WriteOp>center</WriteOp>
                    </ElifBody>
                </ElifOp>
                <ElseOp>
                    <WriteOp>right</WriteOp>
                </ElseOp>
            </ifOp>
        </StatListOp>
        <ReturnExprsOp/>
    </ProcOp>
    <ProcOp>
        (ID, hanoi)
        <ParamDeclListOp>
            <ParDeclOp>
                INT
                <IdListOp>(ID, n)(ID, fromPeg)(ID, usingPeg)(ID, toPeg)</IdListOp>
            </ParDeclOp>
        </ParamDeclListOp>
        <ResultTypeListOp>VOID</ResultTypeListOp>
        <VarDeclListOp/>
        <StatListOp>
            <ifOp>
                <NeOp>(ID, n), 0</NeOp>
                <ifBody>
                    <CallProcOp>
                        (ID, hanoi)
                        <ParamOp>
                            <MinOp>(ID, n), 1</MinOp>
                            (ID, fromPeg)(ID, toPeg)(ID, usingPeg)
                        </ParamOp>
                    </CallProcOp>
                    <WriteOp>Move disk from </WriteOp>
                    <CallProcOp>
                        (ID, printPeg)
                        <ParamOp>(ID, fromPeg)</ParamOp>
                    </CallProcOp>
                    <WriteOp> peg to </WriteOp>
                    <CallProcOp>
                        (ID, printPeg)
                        <ParamOp>(ID, toPeg)</ParamOp>
                    </CallProcOp>
                    <WriteOp> peg.\n</WriteOp>
                    <CallProcOp>
                        (ID, hanoi)
                        <ParamOp>
                            <MinOp>(ID, n), 1</MinOp>
                            (ID, usingPeg)(ID, fromPeg)(ID, toPeg)
                        </ParamOp>
                    </CallProcOp>
                </ifBody>
                <ElseOp/>
            </ifOp>
        </StatListOp>
        <ReturnExprsOp/>
    </ProcOp>
    <ProcOp>
        (ID, main)
        <ParamDeclListOp/>
        <ResultTypeListOp>VOID</ResultTypeListOp>
        <VarDeclListOp>
            <VarDeclOp>
                <Type>
                    INT
                    <IdListInitOp>
                        <AssignStatOp>
                            <AssignOp>(ID, n), 0</AssignOp>
                        </AssignStatOp>
                    </IdListInitOp>
                </Type>
            </VarDeclOp>
        </VarDeclListOp>
        <StatListOp>
            <WriteOp>How many pegs? </WriteOp>
            <ReadOp>
                <IdListOp>(ID, n)</IdListOp>
            </ReadOp>
            <CallProcOp>
                (ID, hanoi)
                <ParamOp>(ID, n)123</ParamOp>
            </CallProcOp>
        </StatListOp>
        <ReturnExprsOp/>
    </ProcOp>
</Program>
